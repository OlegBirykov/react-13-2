(this["webpackJsonpreact-12-2"]=this["webpackJsonpreact-12-2"]||[]).push([[0],{37:function(e,t,r){},38:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(20),a=r.n(c),s=(r(37),r(17)),i=r(6),o=(r(38),r(15)),l="LIST_REQUEST",u="LIST_FAILURE",j="LIST_SUCCESS",b="DETAILS_REQUEST",d="DETAILS_FAILURE",p="DETAILS_SUCCESS",O=function(){return{type:l}},x=function(e){return{type:b,payload:{id:e}}},v=r(3);var h=function(){var e=Object(o.c)((function(e){return e.list})),t=e.items,r=e.loading,c=e.error,a=Object(o.b)();return Object(n.useEffect)((function(){a(O())}),[a]),c?Object(v.jsxs)("div",{className:"error",children:[Object(v.jsx)("p",{className:"error-text",children:c}),Object(v.jsx)("button",{className:"error-button",onClick:function(){a(O())},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})]}):r?Object(v.jsx)("svg",{className:"spinner",viewBox:"0 0 50 50",children:Object(v.jsx)("circle",{className:"spinner-circle ServiceList-spinner-circle",cx:"25",cy:"25",r:"20",fill:"none"})}):Object(v.jsx)("ul",{className:"List",children:t.map((function(e){return Object(v.jsx)("li",{className:"List-item",children:Object(v.jsx)(s.b,{to:"".concat("/react-13-2","/").concat(e.id,"/details"),className:"List-item-link",children:"".concat(e.name,": ").concat(e.price," \u0440\u0443\u0431.")})},e.id)}))})};var m=function(e){var t=e.match,r=Object(o.c)((function(e){return e.details})),c=r.item,a=r.loading,i=r.error,l=Object(o.b)();return Object(n.useEffect)((function(){l(x(t.params.id))}),[l,t.params.id]),i?Object(v.jsxs)("div",{className:"error",children:[Object(v.jsx)("p",{className:"error-text",children:i}),Object(v.jsx)("button",{className:"error-button",onClick:function(){l(x(t.params.id))},children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})]}):a?Object(v.jsx)("svg",{className:"spinner",viewBox:"0 0 50 50",children:Object(v.jsx)("circle",{className:"spinner-circle ServiceList-spinner-circle",cx:"25",cy:"25",r:"20",fill:"none"})}):Object(v.jsxs)("div",{className:"Details",children:[Object(v.jsxs)("label",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",Object(v.jsx)("input",{name:"name",disabled:!0,value:c.name})]}),Object(v.jsxs)("label",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",Object(v.jsx)("input",{name:"price",disabled:!0,value:c.price})]}),Object(v.jsxs)("label",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(v.jsx)("input",{name:"content",disabled:!0,value:c.content})]}),Object(v.jsx)("div",{className:"Details-footer",children:Object(v.jsx)(s.b,{to:"/react-13-2",className:"Details-button",children:"<< \u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443"})})]})};var f=function(){return Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{path:"/react-13-2/:id([0-9]+)/details",component:m}),Object(v.jsx)(i.b,{path:"/react-13-2",component:h}),Object(v.jsx)(i.a,{to:"/react-13-2"})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=r(14),y=r(32),g=r(9),E={items:[],loading:!1,error:null};var k={item:{id:"",name:"",price:"",content:""},loading:!1,error:null};var N=r(7),S=r.n(N),L=r(13),_=r(28),T=function(){var e=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7070/api/services");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(t.statusText);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(_.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:7070/api/services","/").concat(t));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error(r.statusText);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=S.a.mark(B),C=S.a.mark(F),U=S.a.mark(J),A=S.a.mark(Q),R=S.a.mark(W);function B(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)(l,F);case 2:case"end":return e.stop()}}),D)}function F(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,3,1e3,t.next=5,Object(L.b)(3,1e3,T);case 5:return e=t.sent,t.next=8,Object(L.a)({type:j,payload:{items:e}});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(L.a)((r=t.t0.message,{type:u,payload:{error:r}}));case 14:case"end":return t.stop()}var r}),C,null,[[0,10]])}function J(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)(b,Q);case 2:case"end":return e.stop()}}),U)}function Q(e){var t;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,3,1e3,r.next=5,Object(L.b)(3,1e3,I,e.payload.id);case 5:return t=r.sent,r.next=8,Object(L.a)({type:p,payload:{item:t}});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(L.a)((n=r.t0.message,{type:d,payload:{error:n}}));case 14:case"end":return r.stop()}var n}),A,null,[[0,10]])}function W(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.c)(B);case 2:return e.next=4,Object(L.c)(J);case 4:case"end":return e.stop()}}),R)}var X=Object(w.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(g.a)(Object(g.a)({},e),{},{loading:!0,error:null});case u:var r=t.payload.error;return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:r});case j:var n=t.payload.items;return Object(g.a)(Object(g.a)({},e),{},{items:n,loading:!1,error:null});default:return e}},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(g.a)(Object(g.a)({},e),{},{loading:!0,error:null});case d:var r=t.payload.error;return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:r});case p:var n=t.payload.item;return Object(g.a)(Object(g.a)({},e),{},{item:n,loading:!1,error:null});default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,P=Object(y.a)(),V=Object(w.e)(X,M(Object(w.a)(P)));P.run(W);var $=V;a.a.render(Object(v.jsx)(o.a,{store:$,children:Object(v.jsx)(f,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.f647aebe.chunk.js.map